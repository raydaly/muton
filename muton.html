<!DOCTYPE html> 
<!-- 
	TODO to get first two screens like Futon
	startPg
	- x Overview
	- Configuration
	- Replicator
	- Status
	- Test Suite
	dbListPg
	- x add database
		TODO if error (not permissions, ask to log in)
	- x next, previous
	- x change number of items on page
	- number of documents in bubble with one call each to api (make advance option)
		- TODO bug with variable j
	- x showing 1 of x
	docListPg
		extra
			new document
			delete database
			security
			compact and cleanup
			jump to document
		view
			all
			design
			views
		next, previous, rows
	fieldListPg
	- don't allow edit of _fields like _id, _rev, etc.
	editPg
	-  save button working
-->
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Muton for CouchDB</title>
	<meta name="viewport" content="user-scalable=no, width=device-width" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
<!--	<link href="jquery.mobile-1.0a3.min.css" rel="stylesheet" type="text/css" />
	<script src="jquery.min.js"></script>
	<script src="jquery.mobile-1.0a3.min.js"></script>
-->
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.0b1/jquery.mobile-1.0b1.min.css" />
	<script src="http://code.jquery.com/jquery-1.6.1.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.0b1/jquery.mobile-1.0b1.min.js"></script>	<style>
		.xof {text-align: center;}
		#statusErrorMsg {color: red;}
	</style>
</head>
<body>
	<div data-role="page" id="startPg" data-add-back-btn="true" data-theme="e">
		<div data-role="header">
			<h1>Muton for CouchDB</h1>
			<a href="#aboutPg" class="ui-btn-right" data-icon="info">About</a>
		</div>
		<div data-role="content">
			<p>This page will be about login in</p>
			<ul data-role="listview" data-inset="true">
				<li><a href="#dbListPg">Overview</a></li>
				<li><a href="#">Configuration</a></li>
				<li><a href="#replicatePg">Replicator</a></li>
				<li><a href="#statusPg">Status</a></li>
				<li><a href="#">Test Suite</a></li>
			</ul>
			
		</div>
	</div><!-- /startPg -->
	
	<div data-role="page" id="aboutPg" data-add-back-btn="true" data-theme="e">
		<div data-role="header">
			<h1>About Muton</h1>
		</div>
		<div class="branding">Muton For CouchDB</div>
		<div data-role="content">
			<p>Muton is an administration console for CouchDB meant for mobile devices.</p> 
			<p>Support for various mobile devices and most modern web browsers is possible using the jQuery Mobile library. See their <a href="http://jquerymobile.com/gbs/">page on device support</a>.</p>
			<p>Project is maintained on GitHub (future).</p>
		</div>
	</div><!-- /about -->

	<div data-role="page" id="rowDbPg" data-theme="e">
		<div data-role="header">
			<h1>Change # of Rows</h1>
		</div>
		<div data-role="content">
			<div data-role="fieldcontain">
			 	<fieldset data-role="controlgroup" data-role="controlgroup">
					<input type="radio" name="rowsDb" id="rowsDb-5" class="rowsDbClass" value="5" />
					<label for="rowsDb-5">5</label>
					<input type="radio" name="rowsDb" id="rowsDb-10" class="rowsDbClass" value="10" />
					<label for="rowsDb-10">10</label>
					<input type="radio" name="rowsDb" id="rowsDb-25" class="rowsDbClass" value="25" />
					<label for="rowsDb-25">25</label>
					<input type="radio" name="rowsDb" id="rowsDb-50" class="rowsDbClass" value="50" />
					<label for="rowsDb-50">50</label>
					<input type="radio" name="rowsDb" id="rowsDb-100" class="rowsDbClass" value="100" />
					<label for="rowsDb-100">100</label>
			    </fieldset>
			</div>
			<a href="#dbListPg" data-rel="back"  data-role="button">Close</a>
		</div>
	</div><!-- /rowDbPg -->

	<div data-role="page" id="dbListPg" data-add-back-btn="true" data-theme="e">
		<div data-role="header">
			<h1>database list</h1>
			<a href="#createDbPg" class="ui-btn-right" data-icon="plus" data-rel="dialog">Create DB</a>
		</div>
		<div data-role="content">
			<ul id="dbListUL" data-role="listview" data-inset="true" data-filter="true">
				<li><a href="#docListPg">db1</a><span class="ui-li-count">47</span></li>
			</ul>
		</div>
		<fieldset class="ui-grid-b">
			<div class="ui-block-a"><a id="butDbListPrevious" href="#" data-role="button" data-icon="arrow-l">Previous</a></div>
			<div class="ui-block-b"><a href="#rowDbPg"  data-rel="dialog" data-role="button">Rows</a></div>
			<div class="ui-block-c"><a id="butDbListNext" href="#" data-role="button" data-icon="arrow-r" data-iconpos="right">Next</a></div>	   
		</fieldset>
	</div><!-- /dbListPg -->

	<div data-role="page" id="docListPg" data-add-back-btn="true" data-theme="e">
		<div data-role="header">
			<h1>document list</h1>
			<a href="#dbListMorePg" class="ui-btn-right" data-icon="arrow-r">More</a>
		</div>
		<div data-role="content">
			<div data-role="fieldcontain">
				<label for="jumpDbInput">Jump to </label>
				<input type="text" name="jumpDbInput" id="jumpDbInput" value="" placeholder="doc id"  />
				<label for="docViewInput">View </label>
				<select name="docViewInput" id="docViewInput" data-native-menu="false">
					<option value="all">All Documents</option>
					<option value="design">Design documents</option>
					<option value="temporary">Temporary View</option>
					<option value="runView">Run Views</option>
				</select>
			</div>
			<ul id="docsListUL" data-role="listview" data-inset="true">
				<li><a href="#docPg">doc id here</a><span class="ui-li-count">47</span></li>
			</ul>
		</div>
		<fieldset class="ui-grid-a">
			<div class="ui-block-a"><a id="butDocListPrevious" href="#" data-role="button" data-icon="arrow-l">Previous</a></div>
			<div class="ui-block-b"><a id="butDocListNext"  href="#" data-role="button" data-icon="arrow-r" data-iconpos="right">Next</a></div>	   
		</fieldset>
	</div><!-- /docListPg -->
	
	
	<div data-role="page" id="dbListMorePg" data-add-back-btn="true" data-theme="e">
		<div data-role="header">
			<h1>More Actions</h1>
		</div>
		<div data-role="content">
			<ul id="" data-role="listview" data-inset="true">
				<li><a href="#butNewDocument">New Document</a></li>
				<li><a href="#butDocListSecurity">Security</a></li>
				<li><a href="#butCompact">Compact and Cleanup</a></li>
				<li><a href="#butDeleteDatabse">Delete Database</a></li>
			</ul>
		</div>
	</div><!-- /dbListMorePg -->	

	<div data-role="page" id="docPg" data-add-back-btn="true" data-theme="e">
		<div data-role="header">
			<h1>view document</h1>
			<a href="#docAdvancePg" class="ui-btn-right" data-icon="arrow-r">Advanced</a>
		</div>
		<div data-role="content">
			<ul id="fieldListUL" data-role="listview" data-inset="true" data-filter="true">
				<li><a href="#docPg">key here
					<p class="ui-li-desc">value here</p>
				</a></li>
			</ul>
		</div>
	</div><!-- /docPg -->

	<div data-role="page" id="statusPg" data-add-back-btn="true" data-theme="e">
		<div data-role="header">
			<h1>Status</h1>
		</div>
		<div data-role="content">
			<div data-role="fieldcontain">
				<label for="statusPoll">Poll interval in seconds:</label>
			 	<input type="range" name="statusPoll" id="statusPoll" value="5" min="0" max="30"  />
			</div>
			<ul id="statusListUL" data-role="listview" data-inset="true">
				<li><h3>data.type</h3>
					<p>data.task</p>
					<p class="ui-li-aside">data.pid</p>
					<p>data.status</p>
				</li>
			</ul>
		</div>
	</div><!-- /statusPg -->
	
	<div data-role="page" id="createDbPg" data-theme="e">
		<div data-role="header">
			<h1>Create New Database</h1>
		</div>
		<div data-role="content">
			Please enter the name of the database. Note that only lowercase characters (a-z), digits (0-9), or any of the characters _, $, (, ), +, -, and / are allowed.
			<div data-role="fieldcontain">
				<label for="newDbName" class="select">Database name: </label>
				<input type="text" name="newDbName" id="newDbName" value=""  />
			</div>
			<div id="statusErrorMsg"></div>
		</div>
		<a id="butCreateDb" href="#" data-role="button" data-icon="check">Create</a>
		<!--  butCreateDb$('#createDbPg').dialog('close') -->
	</div><!-- /statusPg -->
	
	<div data-role="page" id="editPg" data-theme="e" data-close-btn-text="Cancel">
		<div data-role="header">
			<h1>Edit</h1>
		</div>
		<div data-role="content">
			<div id="editErrorMsg"></div>
			<div data-role="fieldcontain">
				<label id="editKeyLabel" for="editKey" class="select">Key: </label>
				<input type="text" name="editKey" id="editKey" value="value"  />
			</div>
		</div>
		<a id="butEdit" href="#" data-role="button" data-icon="check">Save</a>
		<a data-rel="back" href="#docPg" data-role="button" data-icon="delete">Cancel</a>
	</div><!-- /statusPg -->
	
	<div data-role="page" id="replicatePg" data-theme="e" data-close-btn-text="Back">
		<div data-role="header">
			<h1>Replicate Changes</h1>
		</div>
		<div data-role="content">
			<div id="replicateErrorMsg"></div>
			<div data-role="fieldcontain">
				<label for="fromSlider">From:</label>
				<select name="fromSlider" id="fromSlider" data-role="slider">
					<option value="true">Local</option>
					<option value="false">Remote</option>
				</select> 
			</div>
			<div data-role="fieldcontain" id="from>LocalDiv">
				<label for="fromLocal" class="select">Local database:</label>
				<select name="fromLocal" id="fromLocal" data-native-menu="false">
					<option value="standard">Standard: 7 day</option>
					<option value="rush">Rush: 3 days</option>
					<option value="express">Express: next day</option>
					<option value="overnight">Overnight</option>
				</select>
			</div>
			<div data-role="fieldcontain" id="from>RemoteDiv">	
				<label for="fromRemote">Remote database: </label>
				<input type="text" name="fromRemote" id="fromRemote" value="http://"  />
			</div>
			<div data-role="fieldcontain">
				<label for="toSlider">To:</label>
				<select name="toSlider" id="toSlider" data-role="slider">
					<option value="true">Local</option>
					<option value="false">Remote</option>
				</select> 
			</div>
			<div data-role="fieldcontain" id="toLocalDiv">
				<label for="toLocal" class="select">Local database:</label>
				<select name="toLocal" id="toLocal" data-native-menu="false">
					<option value="standard">Standard: 7 day</option>
					<option value="rush">Rush: 3 days</option>
					<option value="express">Express: next day</option>
					<option value="overnight">Overnight</option>
				</select>
			</div>
			<div data-role="fieldcontain" id="toRemoteDiv">
				<label for="toRemote">Remote database: </label>
				<input type="text" name="toRemote" id="toRemote" value="http://"  />
			</div>
		</div>
				
		<fieldset data-role="controlgroup">
			<input type="checkbox" name="continuous" id="continuous" />
			<label for="continuous">Continuous</label>
		</fieldset>
		<a id="butReplicator" href="#" data-role="button" data-icon="check">Replicate</a>
	</div><!-- /replicatePg -->
	
	
<script>
function typeOf(value) {
	//['object','array', 'string', 'number', 'boolean', 'null', 'undefined']
    var s = typeof value;
    if (s === 'object') {
        if (value) {
            if (value instanceof Array) {
                s = 'array';
            }
        } else {
            s = 'null';
        }
    }
    return s;
}

$(document).ready(function() {
	$(".fieldListA").live("click", function(){
		//alert('clicked fieldListA id='+this.id)
		//muton.docsStart=0;//reset start for new database
		muton.populateFieldsList(this.id.substring(4));
		$.mobile.changePage ($("#docPg"));
	});
   $(".dbListA").live("click", function(){
		//alert('clicked dbListA anchor id='+this.id)
		muton.docsStart=0;//reset start for new database
		muton.populateDocsList(this.id.substring(3));
		$.mobile.changePage ($("#docListPg"));
	});
   $(".fieldDetailA").live("click", function(){
		//alert('clicked fieldDetailA anchor id='+this.id)
		//move key and value into editPg if string, number or bolean
		
		//TODO  make sure current record is in muton.field, push value into editPg
		//TODO  make sure current record dirty flag, check dirty before leaving page
		var x=this.id.substring(6);
		$("#editKeyLabel").html(x);
		$("#editKey").val(muton.recordCurrent[x]);
		$.mobile.changePage ($("#editPg"));
	});
	
    muton.populateDbList(muton.dbListStart,muton.dbListIncrement);
    //muton.populateDocsList("books");

	//previous and next for docList
	$("#butDocListPrevious").live("click", function(){
		muton.docsDescending=true;
		var x=muton.docsStart-muton.docsLimit;
		if (x>=0) {
			muton.docsStart=x;
			muton.populateDocsList(muton.dbCurrent);
		}
	});

	$("#butDocListNext").live("click", function(){
		//alert('next docList');
		muton.docsDescending=false;
		var x=muton.docsStart+muton.docsLimit;
		if (x<muton.docsMax) {
			muton.docsStart=x;
			muton.populateDocsList(muton.dbCurrent);
		}
	});

	//previous and next for dbList
	$("#butDbListPrevious").live("click", function(){
		var x=muton.dbStart-muton.dbLimit;
		if (x>=0) {
			muton.dbStart=x;
			muton.populateDbList();
		}
	});

	$("#butDbListNext").live("click", function(){
		//alert('next dbList');
		var x=muton.dbStart+muton.dbLimit;
		if (x<muton.dbMax) {
			muton.dbStart=x;
			muton.populateDbList();
		}
	});

	$("#butEdit").live("click", function(){
		alert('@butEdit Save');
		//dirty flag for record, update field in json, close dialog
		muton.recordCurrentDirty=true;
		muton.recordCurrent['a']='a';//TODO put in real values instead of "a"s
		$.mobile.changePage ($("#docPg"));//close and return to previous page
	});



	//clear interval and set timeout for status page
	//muton.statusInterval is interval in seconds
	$('#statusPg').live('pagebeforeshow',function(event, ui){
	  muton.populateStatus();
	  muton.status=setInterval(muton.populateStatus,1000*muton.statusInterval);
	});

	$('#statusPg').live('pagehide',function(event, ui){
	  clearInterval(muton.status);
	});

   $("#statusPoll").live("change", function(){
		var x=parseInt($("#statusPoll").val());
		//alert('statusPoll='+x)
		if (x!=muton.statusInterval && x>0 & x<10000){
			muton.statusInterval=x;
			clearInterval(muton.status);
			muton.status=setInterval(muton.populateStatus,1000*muton.statusInterval);
		}
		muton.populateStatus();
	});	
	
	$('#replicatePg').live('pagebeforeshow',function(event){
	  //run your own enhancement scripting here...
		alert ("@pagebeforeshow for replicatePg");
	  return false;
	});
	
   $("#fromSlider").live("click", function(){
		alert("@fromSlider click");
	});
	
	//change number of rows in display
	$('#rowDbPg').live('pageshow',function(event, ui){
		//set radio to current muton.dbLimit
		$(".rowsDbClass").val([muton.dbLimit]);
		//alert('radio = '+ $('.rowsDbClass":checked').val());
		$(".rowsDbClass").checkboxradio("refresh");
	});

	$('#rowDbPg').live('pagehide',function(event, ui){
		//read value to radio, if new value redraw page, set muton.dbLimit
		var x=$('.rowsDbClass":checked').val();
		if (x!=muton.dbLimit){
			muton.dbLimit=x;
			muton.populateDbList();
		}
	});
	
	//action from dialog for creating new database
	$("#butCreateDb").live("click", function(){
		//alert('clicked anchor id='+this.id)
		var errorMsg="";
		var x=$.trim($("#newDbName").val());
		if (x.length==0){
			errorMsg="Please enter a name.";
		}else{
			//TODO regex to all only legal names (a-z), digits (0-9), or  _, $, (, ), +, -, and /
			var url="/"+x+"/";
			$.ajax({
				type: 'PUT',
				url: url,
				success: function(){
					$('#createDbPg').dialog('close');
					//TODO repopulate dblist - maybe sould be on show event????
				    muton.populateDbList(muton.dbListStart,muton.dbListIncrement);
				}
			});
		}
		$("#statusErrorMsg").html(errorMsg);	
	});
});

var muton={
	docsLimit: 10, 
	docsStart: 0, 
	docsMax: 0, 
	dbLimit: 5,
	dbStart: 0,
	dbMax: 0,
	dbCurrent: "",
	recordCurrent: {},
	recordCurrentDirty: false,
	statusInterval: 5, //default to 5 seconds
	
	populateDbList : function(){
		var url='/_all_dbs';
		$.getJSON(url, function(data) {
			//alert('Got json of all databases='+data);
			var x="";
			muton.dbMax=data.length;
			var y=data.slice(muton.dbStart,muton.dbStart+muton.dbLimit);
			/*
["_users","books","edues","muton","nbi","nbi20100705","nbi_final","nbi_final2","talk","ztemp1","ztemp2","ztemp3","ztemp41","ztemp42"]
			*/
			for (var i=0; i<y.length;i++){
				x=x+'<li class="dbListA" id="db_'+y[i]+'" ><a href="#">'+y[i]+'</a>';
				x=x+'<span id="docCount'+i+'" class="ui-li-count"></span></li>';
			}
			x=x+'<li data-role="list-divider" class="xof">Showing '+(muton.dbStart+1)+'-'+(parseInt(muton.dbStart)+i)+' of '+(parseInt(muton.dbMax))+' databases</li>';
			$("#dbListUL").html(x);
			//get record count for each database
			//TODO callback function is not getting j
			for (var j=0; j<y.length;j++){
				var url='/'+y[j]+'/';
				$.getJSON(url, function(data) {
					$("#docCount"+j).html(data.doc_count);
					var a=j;
				});
			}
			$("#dbListUL").listview('refresh');
		});
	},
	
	populateDocsList : function(db){
		muton.dbCurrent=db;
		//get all documents for a database in this instance of couchdb, populate list, refresh list
		//_all_docs?startkey="doc2"&limit=2  
		//_all_docs?startkey=%22_design%2F%22&endkey=%22_design0%22&include_docs=true 
			//startkey=?
			//limit will be 10, 25, 50, 100 - hardcoding 10 to start
		/*
		somedatabase/_all_docs?startkey="doc2"&limit=2&descending=true
		
		FIRST TIME
		http://127.0.0.1:5984/muton/_all_docs?limit=11
		NEXT:
		/nbi20100705/_all_docs?descending=false&limit=11&startkey=%2214%22&startkey_docid=14&skip=1
		/nbi20100705/_all_docs/?limit=11&skip=1&descending=false&startkey_docid=14A
		
		PREVIOUS:
		/nbi20100705/_all_docs?descending=true&limit=11&startkey=%2214A%22&startkey_docid=14A&skip=1
		
		docsDescending: false,
		
		*/
		//alert("@populateDocsList="+db);
		url="/"+db+"/_all_docs/?limit="+(muton.docsLimit);
		if (muton.docsStart>0){
			url=url+"&skip=1&descending="+muton.docsDescending
			if (muton.descending){
				url=url+"&startkey_docid="+muton.docIdStart;
			}else{
				url=url+"&startkey_docid="+muton.docIdEnd;
			}
		}
		$.getJSON(url, function(data) {
			//alert('Got json of all databases='+data);
			muton.docsMax=data.total_rows;
			var offset=data.offset;
			var rows=data.rows;
			var x="";
			for (var i=0; i<rows.length;i++){
				
			/*		x=x+'"><a href="#docPg"><h3 class="ui-li-heading">'+y[i].key+'</h3>
					<p class="ui-li-desc">'+y[i].value+'</p></a></li>';
			
			*/	
				
				
				//<li><a id="db_name" href="#docPg">doc id here</a><span class="ui-li-count">47</span></li>
				x=x+'<li class="fieldListA" id="doc_'+rows[i].id
				x=x+'"><a href="#docPg"><h3 class="ui-li-heading">'+rows[i].id+'</h3><p class="ui-li-desc">'+rows[i].value.rev+'</p></a></li>';
			}
			x=x+'<li data-role="list-divider" class="xof">Showing '+(muton.docsStart+1)+'-'+(parseInt(muton.docsStart)+i)+' of '+(parseInt(muton.docsMax))+' documents</li>';
			if (rows.length>0){
				muton.docIdStart=rows[0].id;//needed for next and previous
				muton.docIdEnd=rows[rows.length-1].id;
			}
			$("#docsListUL").html(x).listview('refresh');
			//$.mobile.changePage ($("#docListPg"));
			/*
			{"total_rows":256,"offset":0,"rows":[
			{"id":"1","key":"1","value":{"rev":"14-b6b36469b4e1deb02cae3e358b6d3348"}},
			{"id":"10","key":"10","value":{"rev":"29-3eb82d0e82c7b4a47b0d8c328520ac99"}},
			{"id":"100","key":"100","value":{"rev":"1-70cd178b4fe31b9dbc67e0f217719781"}},
			*/
		});
	},
	
	populateFieldsList : function(doc){
		muton.docCurrent=doc;
		//alert("@populateFieldsList="+doc);
		url="/"+muton.dbCurrent+"/"+doc;
		$.getJSON(url, function(data) {
			//alert('Got json of all fields='+data);
			/* convert to array and sort */
			muton.recordCurrent=data; //keep this state for saving modified
			muton.recordCurrentDirty=false;//reset dirty when new values
			var y=[];//array
			for (x in data){
				z={}; //empty z
				z["key"]=x;
				z["value"] = data[x];
				y.push(z);
			}
			y.sort(muton.sortObj);
			var x="";
			var v;
			for (var i=0; i<y.length;i++){
				v=muton.printValue(y[i].value);
				if (y[i].key.substring(0,1)=="_"){
					//don't allow edit if system field like _id, _rev
					x=x+'<li id="field_'+y[i].key;
					x=x+'"><h3 class="ui-li-heading">'+y[i].key+'</h3><p class="ui-li-desc">'+v+'</p></li>';
				} else{
					x=x+'<li class="fieldDetailA" id="field_'+y[i].key;
					x=x+'"><a href="#editPg" data-rel="dialog"><h3 class="ui-li-heading">'+y[i].key+'</h3><p class="ui-li-desc">'+v+'</p></a></li>';
				}
			}
			$("#fieldListUL").html(x).listview('refresh');
			/*
			{
			    "_id": "1",
			    "_rev": "13-7faae3cad1ca1f8aad8573e0f988ad48",
			    "type": "nbi",
			    "isArchive": false,
			    "nbiNo": "1",
			...
			*/
		});
	},
	
	
	'sortObj': function (a,b){
		//Compare "a" and "b" in some fashion, and return -1, 0, or 1
		var keyA=a.key.toLowerCase(), keyB=b.key.toLowerCase()
		if (keyA < keyB){ //sort string ascending
			return -1
		}
		if (keyA > keyB){
			return 1
		}
	 	return 0 //default return value (no sorting)
	},
	'printValue' : function(x){
		//look at value to see if //['object','array', 'string', 'number', 'boolean', 'null', 'undefined']
		//return value if string, number or boolean - otherwise return typeOf string
		var y=typeOf(x);
		switch(y){
			case 'string':
			  y='"'+x+'"';
			  break;
			case 'number':
			  y=x;
			  break;
			case 'boolean':
			  y=x;
			  break;
			default:
			  //no change at this time, only send value to strings and numbers
		}
		return y
	},
	
	'populateStatus' : function(){
		var x="";
		//$("#statusPoll").val(muton.statusInterval);
		var url="/_active_tasks";
		$.getJSON(url, function(data) {
			//alert('Got json of all active tasks');
			for (var i=0; i<data.length;i++){
				x=x+'<li><h3 class="ui-li-heading">'+data[i].type+'</h3><p class="ui-li-desc">'+data[i].task;
				x=x+'</p><p class="ui-li-aside">'+data[i].pid;
				x=x+'</p><p class="ui-li-desc">'+data[i].status+'</p></li>';
			}
			if (i==0){
				x="<li>No tasks running</li>";
			}
			$("#statusListUL").html(x).listview('refresh');
		});
	}
}
/*
{"db_name":"nbi_final","doc_count":255,"doc_del_count":13,"update_seq":268,"purge_seq":0,"compact_running":false,"disk_size":14397537,"instance_start_time":"1307067097241345","disk_format_version":5,"committed_update_seq":268}
*/

</script>

</body></html>
